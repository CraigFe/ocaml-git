<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cstruct_buffer (git.Git__.Cstruct_buffer)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">git</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Git__.Cstruct_buffer</span></h1></header><p>An implementation of the Buffer module but with <span class="xref-unresolved" title="unresolved reference to &quot;Cstruct.t&quot;">Cstruct.t</span>.</p><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>The abstract type of buffers.</p></div></div><div class="spec type" id="type-raw"><a href="#type-raw" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>raw</code><code><span class="keyword"> = </span>string</code><code></code></div><div class="doc"><p>The type of result.</p></div></div><div class="spec type" id="type-fixe"><a href="#type-fixe" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>fixe</code><code><span class="keyword"> = </span>Cstruct.t</code><code></code></div><div class="doc"><p>The type of input.</p></div></div><div class="spec val" id="val-create"><a href="#val-create" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>create : int <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">create n</code> returns a fresh buffer, initially empty. The <code class="code">n</code> parameter is
the initial size of the internal byte sequence that holds the buffer
contents. That byte sequence is automatically reallocated when more than
<code class="code">n</code> bytes are stored in the buffer, but shrinks back to <code class="code">n</code> bytes when
<code class="code">reset</code> is called.</p><p>For best performance, <code class="code">n</code> should be of the same order of magnitude as the
number of characters that are expected to be stored in the buffer. Nothing
bad will happen if the buffer grows beyond that limit, however.</p></div></div><div class="spec val" id="val-contents"><a href="#val-contents" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>contents : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-raw">raw</a></code></div><div class="doc"><p>Return a copy of the current contents of the buffer. The buffer itself is
unchanged.</p></div></div><div class="spec val" id="val-unsafe_contents"><a href="#val-unsafe_contents" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>unsafe_contents : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-fixe">fixe</a></code></div><div class="doc"></div></div><div class="spec val" id="val-has"><a href="#val-has" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>has : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"></div></div><div class="spec val" id="val-add"><a href="#val-add" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>add : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-fixe">fixe</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p><code class="code">add fixe buffer</code> appends the fixed-size buffer <code class="code">fixe</code> at the end of the
buffer <code class="code">buffer</code>.</p></div></div><div class="spec val" id="val-clear"><a href="#val-clear" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>clear : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Empty the buffer.</p></div></div><div class="spec val" id="val-reset"><a href="#val-reset" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>reset : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> unit</code></div><div class="doc"><p>Empty the buffer and <i>de-allocate</i> the internal byte sequence internal
byte sequence of length <code class="code">n</code> that was allocated by <span class="xref-unresolved" title="unresolved reference to &quot;Buffer.create&quot;">Buffer.create</span><code class="code">n</code>. For
long-lived buffers that may have grown a lot, <code class="code">reset</code> allows faster
reclamation of the space used by the buffer.</p></div></div></body></html>